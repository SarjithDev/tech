<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register - Jith-tech Solutions</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script>
        // Define custom Tailwind colors/fonts in the config block
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-light': '#6366f1', // Indigo 500
                        'primary-deep': '#4338ca', // Indigo 700 (Focus color)
                        'primary-dark': '#3730a3', // Indigo 800 (Hover/Darker color)
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        heading: ['Lexend', 'sans-serif'],
                    },
                    boxShadow: {
                        // Softer shadow for the transparent card
                        '3xl': '0 20px 40px rgba(0, 0, 0, 0.2), 0 5px 10px rgba(0, 0, 0, 0.1)',
                    }
                }
            }
        }
    </script>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Lexend:wght=700;800;900&display=swap" rel="stylesheet">
    
    <style>
        /* Custom styles for professional look */
        body {
            font-family: 'Inter', sans-serif;
            background-image: url('https://previews.123rf.com/images/mazirama/mazirama1502/mazirama150200268/36497171-registration-text-concept-on-green-digital-world-map-background.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            position: relative;
        }
        
        /* Background Overlay: Stronger contrast for the transparent form */
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            /* Dark Blue/Black overlay for high contrast, slightly more transparent for background visibility */
            background: rgba(0, 0, 0, 0.45); 
            z-index: 0; 
        }

        /* Ensure content is above the overlay */
        .auth-container {
            z-index: 10;
            position: relative;
        }

        /* GLASSMORPHISM CARD STYLE */
        .glass-card {
            background-color: rgba(255, 255, 255, 0.1); /* White with 10% opacity */
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px); /* Safari support */
            border: 1px solid rgba(255, 255, 255, 0.18); /* Light, subtle border */
        }

        /* Change input focus/placeholder styles for dark glass card */
        .glass-input {
            background-color: rgba(0, 0, 0, 0.2); /* Slightly darker input field */
            color: #ffffff; /* White text for input */
            border-color: rgba(255, 255, 255, 0.3); /* Lighter border */
        }
        .glass-input::placeholder {
            color: rgba(255, 255, 255, 0.6); /* Light gray placeholder */
        }
        .glass-input:focus {
             /* Focus color remains primary-deep (Indigo 700) */
            border-color: #4338ca; 
            box-shadow: 0 0 0 1px #4338ca;
        }

        /* Gradient Button Style for Sign Up */
        .btn-gradient {
            background-image: linear-gradient(to right, #4f46e5 0%, #6366f1 100%); /* Tailwind Indigo 600 to 500 */
            transition: all 0.3s ease;
        }
        .btn-gradient:hover {
            background-image: linear-gradient(to right, #4338ca 0%, #4f46e5 100%); /* Deeper Indigo on hover */
            transform: translateY(-1px);
        }
        
        .error-message { color: #f87171; font-size: 0.875rem; font-weight: 600;} /* Light red for dark background */
    </style>
</head>
<body>

    <div class="auth-container max-w-md w-full mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div class="text-center mb-10">
            <a href="index.html" class="inline-flex items-center space-x-2 group">
                <svg class="h-10 w-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
                </svg>
                <span class="text-4xl font-extrabold text-white font-heading tracking-tight">Jith-tech</span>
            </a>
            <h2 class="mt-8 text-3xl font-extrabold text-white font-heading">
                üöÄ Start Your Free Trial
            </h2>
            <p class="mt-3 text-base text-gray-300">
                Already have an account? 
                <a href="login.html" class="font-semibold text-white hover:text-primary-light transition duration-150 underline-offset-4 hover:underline">
                    Sign in here
                </a>
            </p>
        </div>

        <div class="p-10 rounded-2xl shadow-3xl glass-card">
            <form id="registerForm" class="space-y-6" method="POST">
                
                <div>
                    <label for="full-name" class="block text-sm font-semibold text-gray-200 mb-1 tracking-wider">FULL NAME</label>
                    <div class="mt-1">
                        <input id="full-name" name="full-name" type="text" autocomplete="name" required
                            placeholder="e.g., Sarjith"
                            class="appearance-none block w-full px-4 py-3 rounded-lg text-base transition duration-150 glass-input focus:outline-none focus:ring-primary-light focus:border-primary-light">
                    </div>
                </div>

                <div>
                    <label for="reg-email" class="block text-sm font-semibold text-gray-200 mb-1 tracking-wider">EMAIL ADDRESS</label>
                    <div class="mt-1">
                        <input id="reg-email" name="email" type="email" autocomplete="email" required
                            placeholder="you@company.com"
                            class="appearance-none block w-full px-4 py-3 rounded-lg text-base transition duration-150 glass-input focus:outline-none focus:ring-primary-light focus:border-primary-light">
                    </div>
                </div>

                <div>
                    <label for="reg-password" class="block text-sm font-semibold text-gray-200 mb-1 tracking-wider">PASSWORD</label>
                    <div class="mt-1 relative">
                        <input id="reg-password" name="password" type="password" autocomplete="new-password" required
                            placeholder="At least 6 characters"
                            class="appearance-none block w-full pr-12 px-4 py-3 rounded-lg text-base transition duration-150 glass-input focus:outline-none focus:ring-primary-light focus:border-primary-light">
                        
                        <svg id="password-toggle" class="absolute right-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-300 cursor-pointer hover:text-primary-light transition duration-150"
                            xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path id="eye-path" stroke-linecap="round" stroke-linejoin="round" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.66 0-8.647-2.922-10-7 1.353-4.078 5.34-7 10-7 4.66 0 8.647 2.922 10 7-1.353 4.078-5.34 7-10 7z" />
                            <path id="dot-path" stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                            <path id="slash-path" stroke-linecap="round" stroke-linejoin="round" d="M19.5 4.5l-15 15" class="opacity-100" />
                        </svg>
                    </div>
                </div>

                <div id="error-message" class="error-message hidden pt-2 text-center"></div>
                
                <div class="flex items-start pt-2">
                    <div class="flex items-center">
                        <input id="terms-agree" name="terms-agree" type="checkbox" class="h-4 w-4 text-primary-light border-gray-400 rounded-sm focus:ring-primary-deep bg-transparent" required>
                    </div>
                    <label for="terms-agree" class="ml-2 block text-sm text-gray-200">
                        I agree to the 
                        <a href="#" class="font-bold text-primary-light hover:text-white transition duration-150">
                            Terms and Conditions
                        </a>
                    </label>
                </div>

                <div class="pt-2">
                    <button type="submit"
                        class="w-full flex justify-center py-3.5 px-4 border border-transparent rounded-lg shadow-md text-lg font-bold text-white btn-gradient focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 active:scale-[.99] transition duration-150">
                        Sign Up Now
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script type="module">
        // Import the functions you need from the SDKs
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";
        
        // Firebase configuration (Keep as is)
        const firebaseConfig = {
            apiKey: "AIzaSyB0c89IeqVrz8aJ9BMX6eLQh6tmrLwdD_E",
            authDomain: "myweb-336bd.firebaseapp.com",
            projectId: "myweb-336bd",
            storageBucket: "myweb-336bd.firebasestorage.app",
            messagingSenderId: "720945527691",
            appId: "1:720945527691:web:865c08bf46f7562963cd8e"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        
        const errorMessageElement = document.getElementById('error-message');

        // Handle form submission
        const registerForm = document.getElementById('registerForm');
        
        registerForm.addEventListener('submit', (e) => {
            e.preventDefault();
            errorMessageElement.classList.add('hidden'); // Clear previous errors
            
            const fullName = document.getElementById('full-name').value;
            const email = document.getElementById('reg-email').value;
            const password = document.getElementById('reg-password').value;

            // Simple validation check for full name (Firebase handles email/password)
            if (fullName.trim().length < 2) {
                errorMessageElement.textContent = '‚ö†Ô∏è Please enter your full name.';
                errorMessageElement.classList.remove('hidden');
                return;
            }

            // Create new user with email and password
            createUserWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    const user = userCredential.user;
                    console.log('User registered:', user.email);
                    
                    // You might want to update user profile with fullName here using updateProfile(auth.currentUser, { displayName: fullName });
                    
                    alert('Registration successful! Redirecting to login...');
                    window.location.href = "login.html"; // Redirect to login page
                })
                .catch((error) => {
                    const errorCode = error.code;
                    errorMessageElement.textContent = getErrorMessage(errorCode);
                    errorMessageElement.classList.remove('hidden');
                });
        });

        // Toggle password visibility (Improved Icon Handling)
        const passwordField = document.getElementById('reg-password');
        const passwordToggleIcon = document.getElementById('password-toggle');
        const eyePath = document.getElementById('eye-path');
        const dotPath = document.getElementById('dot-path');
        const slashPath = document.getElementById('slash-path');
        
        passwordToggleIcon.addEventListener('click', function () {
            if (passwordField.type === "password") {
                // Change to text (Show password - Open eye)
                passwordField.type = "text";
                // Swap paths to represent the open eye (the paths logic was already inverted, keeping the original logic flow)
                eyePath.setAttribute("d", "M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7z"); // Full eye shape
                dotPath.setAttribute("d", "M15 12a3 3 0 11-6 0 3 3 0 016 0z"); // Simple circle
                slashPath.classList.add('opacity-0'); // Hide the slash
                slashPath.classList.remove('opacity-100');
                passwordToggleIcon.classList.remove('text-gray-300');
                passwordToggleIcon.classList.add('text-primary-light'); // Change icon color to primary
            } else {
                // Change to password (Hide password - Closed eye with slash)
                passwordField.type = "password";
                // Restore paths to represent the closed eye
                eyePath.setAttribute("d", "M13.875 18.825A10.05 10.05 0 0112 19c-4.66 0-8.647-2.922-10-7 1.353-4.078 5.34-7 10-7 1.258 0 2.482.203 3.625.575M17.5 14.5a3 3 0 11-6 0 3 3 0 016 0z"); 
                dotPath.setAttribute("d", "M15 12a3 3 0 11-6 0 3 3 0 016 0z"); // Re-include the dot path for the closed eye
                slashPath.classList.remove('opacity-0'); // Show the slash
                slashPath.classList.add('opacity-100');
                passwordToggleIcon.classList.remove('text-primary-light');
                passwordToggleIcon.classList.add('text-gray-300'); // Reset icon color to gray
            }
        });


        // Function to return user-friendly error messages based on Firebase error codes
        function getErrorMessage(errorCode) {
            switch (errorCode) {
                case 'auth/email-already-in-use':
                    return '‚ùå This email is already registered. Try logging in.';
                case 'auth/invalid-email':
                    return '‚ö†Ô∏è Please enter a valid email address.';
                case 'auth/weak-password':
                    return 'üîê Password should be at least 6 characters.';
                default:
                    return 'üö® An unexpected error occurred. Please try again.';
            }
        }
    </script>

</body>
</html>